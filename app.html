<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.1/jquery.min.js"></script>
 <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="css/bootstrap.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
        <script src="js/bootstrap.min.js"></script>
 <title>
Parso JSON
</title>
</head>
<body>
<script>
var data=new Array();

</script>

<center>
<h1>Welcome!</h1>
<div class='content'>

				<div class='col-xs-6'>
                    <div class='signup' class="col-xs-6" style='display:none;'>
                        <div class="panel panel-primary" >
                            <div class="panel-heading">
                                <h4>Signup</h4>
                            </div>
                            <div class="panel-body">
                               
                                    <div class="form-group">
                                        <input type="text" class="form-control"  placeholder="Username" name="username" id='user' required>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" class="form-control" placeholder="Password" name="password" id='pass' required>
                                    </div>
                                    <div id="form-group">
                                        
                                    </div>
                                    <button id='signup' class="btn btn-primary">Signup</button>
                                
                            </div>
                            
                        </div>
                    </div>
                </div>

				<div class='col-xs-6'>
                    <div class='login' class="col-xs-6">
                        <div class="panel panel-primary" >
                            <div class="panel-heading">
                                <h4>Login</h4>
                            </div>
                            <div class="panel-body">
                               
                                    <div class="form-group">
                                        <input type="text" class="form-control"  placeholder="Username" name="username" id='luser' required>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" class="form-control" placeholder="Password" name="password" id='lpass' required>
                                    </div>
                                    <div id="form-group">
                                        
                                    </div>
                                    <button id='login' class="btn btn-primary">Login</button>
                                
                            </div>
                            
                        </div>
                    </div>
                </div>

                

</div>
</center>

<div class='row' style="border:2px solid black;margin:10px;font-family: 'Acme';">

<div class='left-nav col-xs-4 ndiv' align='left' style="border:2px solid black;">
<h4><b><center>Content</center></b></h4>


</div>
<div class='right-nav col-xs-8 ndiv' style="border:2px solid black;">
<h4><b><center>Question/Answer</center></b></h4>


</div>
</div>
<center>
<div class='col-xs-6'>
                    <div class='add' class="col-xs-6">
                        <div class="panel panel-primary" >
                            <div class="panel-heading">
                                <h4>Add data</h4>
                            </div>
                            <div class="panel-body">
                               
                                    <div class="form-group">
                                        <select class="form-control" name="grade" id='grade' required>
                                        <option value='' selected>Select grade..</option>
                                        <option value='11'>11</option>
                                        <option value='12'>12</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="Subject" name="password" id='subject' required>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="Chapter" name="password" id='chapter' required>
                                    </div>

                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="Question" name="question" id='question' required>
                                    </div>

                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="Answer" name="password" id='answer' required>
                                    </div>
                                    <div id="form-groupa">
                                        
                                    </div>
                                    <button id='add' class="btn btn-primary">Add</button>
                                
                            </div>
                            
                        </div>
                    </div>
                </div>
</center>
<script>
$(".signup").hide();
$(".add").hide();
$(document).ready(function(){
$(".signup").fadeIn(2000);
});
$(".login").hide();
$(".left-nav").hide();
$(".row").hide();
$('#add').click(function(){
	var grade=$("#grade").val();
	var subject=$("#subject").val();
	var chapter=$("#chapter").val();
	var question=$("#question").val();
	var answer=$("#answer").val();

	if(grade!="" && subject!="" && chapter!="" && question!="" && answer!="")
	{
	//Subjects
	var subjects=document.createElement("li");
    subjects.setAttribute("style","font-size:15px;list-style-type: circle;");
    subjects.setAttribute("id",subject);
    subjects.setAttribute("onclick","showchap(this.id)");
    subjects.innerHTML=subject;		
    document.getElementById("dsGrade "+grade).appendChild(subjects);
    var dchap=document.createElement("div");
    dchap.setAttribute("style","margin-left:20px;");
    dchap.setAttribute("id","dc"+subject);
    var o="dsGrade "+grade;
    document.getElementById(o).appendChild(dchap);

	//Chapters


       		var chap=document.createElement("li");
       		chap.setAttribute("style","font-size:15px;");
       		chap.setAttribute("id",chapter);
       		chap.setAttribute("onclick","showques(this.id)");
       		chap.innerHTML=chapter;
       		
            document.getElementById("dc"+subject).appendChild(chap);
           	var dques=document.createElement("div");
          	dques.setAttribute("style","margin-left:20px;");
           	dques.setAttribute("class","dq");
           	document.getElementsByClassName("right-nav")[0].appendChild(dques);

    //Questions

    var ques=document.createElement("div");
    ques.setAttribute("style","font-size:15px;");
    ques.setAttribute("class","ques0");
    ques.innerHTML="Q). "+question+"<br>Ans). "+answer+"<br><br>";
    $(".dq").each(function(i,j){
    j.appendChild(ques);
	});

	$("#form-groupa").html("<h4><font color='green'>Data added!</font></h4>");
	}
	else
		$("#form-groupa").html("<h4><font color='red'>Please enter complete information</font></h4>");
	});

$('#signup').click(function(){
	var user=$("#user").val();
	var pass=$("#pass").val();
  if(user=="" || pass=="")
  {
    $("#form-group").html("<h4><font color='red'>Please enter proper credentials!</font></h4>");
	
  }
  else 
  {
  data.push(user);
  data.push(pass);

  $("#form-group").html("<h4><font color='green'>User added!</font></h4>");
}
	

	
	$(".login").fadeIn(2000);
	
});
var f=0;
$('#login').click(function(){
	var user=$("#luser").val();
	var pass=$("#lpass").val();
  if(user=="" || pass=="")
  {
    alert("Please enter proper credentials");
  }
  else
  {
	for(var i=0;i<data.length;i++)
	{

		if(data[i]==user)
		{
			
			if(data[i+1]==pass)
			{
				
				alert("Login Successful!");
				f=1;
				$(".login").hide();
				$(".signup").hide();
				$(".row").show();
				$(".left-nav").show();
				$(".add").show();
			
				break;
			}
			
		}
		
	}
	if(f==0)
			alert("Incorrect credentials");
	}
  
    
	
});
</script>
<script>

$(function() {


	
	var j=0;
	var k=0;
	var l=0;
   	$.getJSON('json.txt', function(data) {
   		
       	$.each(data.gradesList, function(i, f) {
       	var dgrade=document.createElement("div");
       	dgrade.setAttribute("id","d"+f.name);
       	var grade=document.createElement("li");
       	grade.setAttribute("style","font-size:15px;");
       	grade.setAttribute("id",f.name);
       	grade.setAttribute("onclick","showsub(this.id)");
       	grade.innerHTML=f.name;
       	document.getElementsByClassName("left-nav")[0].appendChild(dgrade);
		document.getElementById("d"+f.name).appendChild(grade);
		var dsub=document.createElement("div");
		dsub.setAttribute("style","margin-left:20px;");
		dsub.setAttribute("id","ds"+f.name);
		document.getElementById("d"+f.name).appendChild(dsub);
		
    	});

   });

});
function showsub(a)
{
	document.getElementById("ds"+a).innerHTML="";
	$(function() {
   	$.getJSON('json.txt', function(data) {
	var p=0;
	
 		$.each(data.gradesList[p].subjectList, function(i, f) {
 			
 			if(data.gradesList[p].name==a)
 			{
 			
 			$.each(data.gradesList[p].subjectList, function(i, f) {
       		var subjects=document.createElement("li");
       		subjects.setAttribute("style","font-size:15px;list-style-type: circle;");
       		subjects.setAttribute("id",f.name);
       		subjects.setAttribute("onclick","showchap(this.id)");
       		subjects.innerHTML=f.name;
       		
            document.getElementById("ds"+a).appendChild(subjects);

           	var dchap=document.createElement("div");
           	dchap.setAttribute("style","margin-left:20px;");
           	dchap.setAttribute("id","dc"+f.name);
           	var o="ds"+a;
        	document.getElementById(o).appendChild(dchap);
			});
         }
           	p++;
         });
 	});
   });
}
function showchap(a)
{
	document.getElementById("dc"+a).innerHTML='';
	$(function() {
   	$.getJSON('json.txt', function(data) {
	for(var p=0;p<data.gradesList.length;p++)
	{
		for(var q=0;q<data.gradesList[p].subjectList.length;q++)
		{
			
 		$.each(data.gradesList[p].subjectList[q].chapterList, function(i, f) {
 			
 			if(data.gradesList[p].subjectList[q].name==a)
 			{
 			
 			$.each(data.gradesList[p].subjectList[q].chapterList, function(i, f) {
       		var chap=document.createElement("li");
       		chap.setAttribute("style","font-size:15px;");
       		chap.setAttribute("id",f.name);
       		chap.setAttribute("onclick","showques(this.id)");
       		chap.innerHTML=f.name;
       		
            document.getElementById("dc"+a).appendChild(chap);
           	var dques=document.createElement("div");
          	dques.setAttribute("style","margin-left:20px;");
           	dques.setAttribute("class","dq");
           	document.getElementsByClassName("right-nav")[0].appendChild(dques);
           	});
         	}
          
          });
		}
	}

 	});
   });
}
function showques(a)
{
	$(".dq").each(function(i,obj){
		obj.innerHTML="";
	});
   var arr=new Array();
	$(function() {
   		$.getJSON('json.txt', function(data) {
		for(var p=0;p<data.gradesList.length;p++)
		{
			for(var q=0;q<data.gradesList[p].subjectList.length;q++)
			{
				for(var r=0;r<data.gradesList[p].subjectList[q].chapterList.length;r++)
				{
           			$.each(data.gradesList[p].subjectList[q].chapterList, function(i, f) {
                 
                  arr.push(f.name);
                  
       					if(data.gradesList[p].subjectList[q].chapterList[r].name==a)
       					{

       						$.each(data.gradesList[p].subjectList[q].chapterList[r].questionList, function(i, h) {
       							var ques=document.createElement("div");
       							ques.setAttribute("style","font-size:15px;");
       							ques.setAttribute("class","ques"+r);
       							ques.innerHTML="Q). "+h.question+"<br>Ans). "+h.answer+"<br><br>";
            					document.getElementsByClassName("dq")[r].appendChild(ques);
            				});
                    
                  
            			}
            		});

                
            	}
            }
        }

        for(var k=0;k<arr.length;k++)
        {
            if(document.getElementById(arr[k]))
            {
            document.getElementById(arr[k]).style.color='#000';
          }
        }
        document.getElementById(a).style.color='red';
    });
   	});
}
</script>

</body>
</html>